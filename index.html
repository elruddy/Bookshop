<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/bookshop-css.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <title>Bookshop</title>
  </head>
  <body onload="onInit()"  style="background-image: url('img/books_background.jpg');">
    <main>
      
      <div class="aboveTable">
        <label> Filter:</label>
        <input id='inputFilter' placeholder="Search by Title" oninput="onInputFilter(this.value)"> </input>
        <label>Min rating:</label>

        <select name="minimum-rating" id="rating" onchange="onRatingSelect(this)">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
        <button onclick="onClear()"> Clear filter </button>
        
        <button onclick="onAddBook()">Add by Prompts</button>
        <button onclick="onGetBookModal()">Add by Modal</button>
      </div>
      <div class="sorting">
        <label> Sort by:</label>
        <select name="sort-by" id="sort" onchange="onSortSelect(this)">
          <option value="-1"></option>
          <option value="title">title</option>
          <option value="rating">rating</option>
          <option value="price">price</option>
        </select>
        <input type="radio" id="ascend" onchange="changeSortOrder(true)" name="ascendSort">
        <label>Ascending</label>
        <input type="radio" id="descend" onchange="changeSortOrder(false)" name="descendSort">
        <label>Descending</label>
        <button class="material-symbols-outlined" onclick="onSetLayout('table')">table</button>
        <button class="material-symbols-outlined" onclick="onSetLayout('cards')">dashboard</button>
      </div>


      <table class="table-container">
        <thead>
          <tr>
            <th>Title</th>
            <th>Price</th>
            <th>Rating</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="TableBody"></tbody>
      </table>


      <div id="CardsBody" class="cards-container hide">bjhvfwvf</div>
    </main>


      <dialog class="book-details">
        <form method="dialog">
          <h2 class="title"></h2>
          <h2 class="price"></h2>
          <div class="book-img">
            <p class="desc"></p>
            <img src="" />
          <h2 class="rating"></h2>
          </div>

          <button class="close">✖</button>
        </form>
      </dialog>
    
      <dialog class="msg-box"></dialog>

       <dialog class="bookAddModal"> 
        <h3>Add a book</h3>
        <form method="dialog" onsubmit="onAddBookByModal(this)">
           <div>
          <label>Title</label>:
          <input 
            name="book-title"
            type="text"
            placeholder="Book Title"
            autocomplete="on"
          />
        </div>

        <div>
          <label>Price</label>:
          <input
            name="book-price"
            type="number"
            step=".01"
            placeholder="Book Price"
            autocomplete="off"
          />
        </div>

        <div>
          <label>Image URL</label>:
          <input
            name="book-image"
            type="text"
            placeholder="http(s)://.............jpeg"
            autocomplete="off"
          />
           <label>Rating</label>:
          <input 
            name="book-rating"
            type="text"
            placeholder="rating"
            autocomplete="on"
          />
        </div>

        <button> Add Book</button>
         <button type="button" class="close" onclick="onCloseBookModal()">
          ✖
        </button>


        </form>

       </dialog>

    <script src="js/utils.js"></script>
    <script src="js/storage.service.js"></script>
    <script src="js/book.service.js"></script>
    <script src="js/book.controller.js"></script>

    <footer class="stats"> 
      <span class="expensive-count"></span> expensive books
      <span class="avg-count"></span> average price books
      <span class="cheap-count"></span> cheap books
    </footer>

  </body>
</html>
